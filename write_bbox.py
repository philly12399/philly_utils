pred_dicts={'pred_boxes': [[3.9051151275634766, -8.153678894042969, -0.8979834914207458, 3.980379819869995, 1.8147284984588623, 1.2831506729125977, 3.21348237991333], [13.26002025604248, -14.912443161010742, -0.771316409111023, 4.633244037628174, 1.722456693649292, 1.228875756263733, 6.5024518966674805], [7.435652256011963, -3.5927734375, -0.7149268388748169, 4.159677505493164, 1.5965898036956787, 1.52512788772583, 3.3313915729522705], [-2.2494680881500244, -9.067018508911133, -0.9030671715736389, 4.004703044891357, 1.7444252967834473, 1.468072533607483, 3.369813919067383], [0.3577384352684021, -5.312033653259277, -0.734555184841156, 4.524474143981934, 1.7454214096069336, 1.7964425086975098, 3.3006463050842285], [11.277987480163574, -6.9789252281188965, -0.6546688675880432, 3.877892255783081, 1.4712953567504883, 1.487709403038025, 3.206711530685425], [29.193193435668945, 6.8667893409729, -0.5683780312538147, 4.432308673858643, 1.6717853546142578, 1.3671163320541382, 2.868872880935669], [-3.2101638317108154, 5.643547058105469, -1.180846929550171, 4.014256000518799, 1.7452448606491089, 1.4978276491165161, 3.071728467941284], [-6.584293365478516, -5.97024393081665, -0.42968863248825073, 5.915600299835205, 1.8850107192993164, 2.652614116668701, 3.2654829025268555], [-2.6347134113311768, -19.217243194580078, -0.9125470519065857, 4.897627830505371, 1.8528759479522705, 1.6417943239212036, 6.48314905166626], [17.18817710876465, 16.053287506103516, -0.8552702069282532, 1.8685399293899536, 0.572404146194458, 1.3843151330947876, 4.721571922302246], [-15.19808292388916, -28.387096405029297, -1.2946245670318604, 3.9949402809143066, 1.5563119649887085, 1.1318984031677246, 6.983284950256348], [16.674922943115234, -24.929569244384766, -0.6601533889770508, 1.8583828210830688, 0.44330957531929016, 1.277506709098816, 0.7830314040184021]], 'pred_labels': ['Car', 'Car', 'Car', 'Car', 'Car', 'Car', 'Car', 'Car', 'Truck', 'Car', 'Cyclist', 'Car', 'Cyclist'], 'pred_scores': [0.9999886751174927, 0.9999833106994629, 0.9999679327011108, 0.999966025352478, 0.9999221563339233, 0.9999065399169922, 0.9999041557312012, 0.9998975992202759, 0.9998918771743774, 0.998055100440979, 0.9924524426460266, 0.9413794875144958, 0.6442413926124573]}     
class BBOX3D:
    def __init__(self):
        return
def writebbox(output_file,bboxes):
    output_str=""
    for b in bboxes:
        output_str+=f"{b.class_name} 0 0 0 0 0 0 0 {b.dx} {b.dy} {b.dz} {b.x} {b.y} {b.z} {b.heading} {b.score}\n"
    print(output_str)
    file = open(output_file, "w+")
    file.write(output_str)
    file.close()
    return
class_names=['Cyclist', 'Car', 'Truck', 'Bus']
bboxes=[]
for i in range(len(pred_dicts["pred_boxes"])):
    bbox3d = BBOX3D()
    bbox3d.x = pred_dicts["pred_boxes"][i][0]
    bbox3d.y = pred_dicts["pred_boxes"][i][1]
    bbox3d.z = pred_dicts["pred_boxes"][i][2]
    bbox3d.dx = pred_dicts["pred_boxes"][i][3]
    bbox3d.dy = pred_dicts["pred_boxes"][i][4]
    bbox3d.dz = pred_dicts["pred_boxes"][i][5]
    bbox3d.heading = pred_dicts["pred_boxes"][i][6]
    bbox3d.score = pred_dicts["pred_scores"][i]
    bbox3d.label = pred_dicts["pred_labels"][i]
    # bbox3d.class_name = class_names[
    #     pred_dicts["pred_labels"][i] - 1
    # ]
    bbox3d.class_name = bbox3d.label
    # Let track_id to be filled by pcd-tracking
    # bbox3d.track_id = None
    # bbox3d.cluster_id = cluster_id
    bboxes.append(bbox3d)
    # cluster_id += 1
writebbox("/home/philly12399/test.txt",bboxes)
